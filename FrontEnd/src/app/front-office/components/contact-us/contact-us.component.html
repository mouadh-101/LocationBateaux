<div
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
  *ngIf="visible">

  <div
    class="relative flex flex-col lg:flex-row bg-white backdrop-blur-lg shadow-2xl rounded-3xl overflow-hidden w-full max-w-6xl transition-all duration-300">

    <!-- Close Button -->
    <button (click)="close()"
      class="absolute top-4 right-4 text-gray-600 hover:text-red-500 text-2xl z-50">&times;</button>

    <!-- Left Image -->
    <div class="hidden lg:block lg:w-1/2 bg-cover bg-center"
      style="background-image: url('/assets/img/contact-us.webp');">
      <div class="w-full h-full bg-black/20"></div>
    </div>

    <!-- Right Form Area -->
    <div class="w-full lg:w-1/2 p-10">
      <h2 class="text-4xl font-bold text-primary text-center font-serif">
        Contactez-nous
      </h2>
      <p class="text-center text-gray-500 mb-6 text-sm">
        Nous sommes ravis de vous aider. Veuillez remplir le formulaire ci-dessous.
      </p>

      <form [formGroup]="contactForm" (ngSubmit)="submit()" class="space-y-4">

        <input formControlName="name" type="text" placeholder="Nom complet" class="auth-input" />
        <div *ngIf="isTouchedAndDirtyWithError(contactForm, 'name', 'required')" class="text-red-600 font-extralight">
          Le nom est requis.
        </div>

        <input formControlName="email" type="email" placeholder="Adresse Email" class="auth-input" />
        <div *ngIf="isTouchedAndDirtyWithError(contactForm, 'email', 'required')" class="text-red-600 font-extralight">
          L'email est requis.
        </div>
        <div *ngIf="isTouchedAndDirtyWithError(contactForm, 'email', 'email')" class="text-red-600 font-extralight">
          L'email n'est pas valide.
        </div>
        <input formControlName="subject" type="text" placeholder="sujet" class="auth-input" />
        <div *ngIf="isTouchedAndDirtyWithError(contactForm, 'sujet', 'required')" class="text-red-600 font-extralight">
          Le sujet est requis.
        </div>

        <textarea formControlName="message" rows="4" placeholder="Votre message"
          class="auth-input resize-none"></textarea>
        <div *ngIf="isTouchedAndDirtyWithError(contactForm, 'message', 'required')" class="text-red-600 font-extralight">
          Le message est requis.
        </div>

        <button type="submit"
          class="w-full bg-primary text-white py-3 rounded-xl font-semibold hover:bg-accent transition-all duration-300 disabled:bg-gray-300 disabled:cursor-not-allowed"
          [disabled]="contactForm.invalid">
          Envoyer
        </button>
      </form>
    </div>
  </div>
</div>
