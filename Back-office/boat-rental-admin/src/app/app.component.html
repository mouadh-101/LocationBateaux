<div class="app-container">

  <!-- Sidebar Desktop & Mobile -->
  <nav
    class="sidebar"
    [class.collapsed]="sidebarCollapsed && !isMobile"
    [class.mobile-open]="sidebarMobileOpen && isMobile"
  >
    <div class="sidebar-header">
    <h3
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-2xl font-extrabold text-center text-transparent bg-clip-text
         bg-gradient-to-r from-blue-600 via-teal-500 to-green-500 drop-shadow-sm tracking-wide">
  AfricaBoat
</h3>

      <button class="sidebar-toggle-btn" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <i class="fas" [ngClass]="{
          'fa-chevron-left': !sidebarCollapsed && !isMobile,
          'fa-chevron-right': sidebarCollapsed && !isMobile,
          'fa-bars': isMobile
        }"></i>
      </button>
    </div>

    <ul class="sidebar-menu">
      <li *ngIf="authService.isAdmin() || authService.isGestionnaire() ">
        <a routerLink="/dashboard" (click)="closeSidebarMobile()">
          <i class="fas fa-tachometer-alt"></i>
          <span
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-base font-bold text-white tracking-wide
         hover:text-yellow-400 transition duration-300 ease-in-out">
  Dashboard
</span>

        </a>
      </li>
      <li *ngIf="authService.isAdmin()">
        <a routerLink="/users" (click)="closeSidebarMobile()">
          <i class="fas fa-users"></i>
<span
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-base font-semibold text-white tracking-wide
         hover:text-cyan-300 hover:scale-105 transition-all duration-300 ease-in-out">
  Users
</span>
        </a>
      </li>
      <li>
        <a routerLink="/list" (click)="closeSidebarMobile()">
          <i class="fas fa-ship"></i>
<span
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-base font-semibold text-white tracking-wide
         hover:text-orange-300 transition-colors duration-200">
  Les Bateaux
</span>
        </a>
      </li>
      <li>
  <a routerLink="/reservations" (click)="closeSidebarMobile()">
    <i class="fas fa-calendar-check"></i>
<span
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-base font-semibold text-white tracking-wide
         hover:text-green-400 hover:scale-105 transition-all duration-300 ease-in-out">
  Les Reservations
</span>
  </a>
</li>
    <li *ngIf="authService.isAdmin()">
  <a routerLink="/partners" (click)="closeSidebarMobile()">
    <i class="fas fa-handshake"></i>
<span
  *ngIf="!sidebarCollapsed || isMobile"
  class="text-base font-semibold text-white tracking-wide
         hover:text-purple-400 hover:scale-105 transition-all duration-300 ease-in-out">
  Les Partenaires
</span>
  </a>

</li>
<li>
  <a routerLink="/paiements" (click)="closeSidebarMobile()">
    <i class="fas fa-history"></i>
    <span
      *ngIf="!sidebarCollapsed || isMobile"
      class="text-base font-semibold text-white tracking-wide
             hover:text-pink-400 hover:scale-105 transition-all duration-300 ease-in-out">
      Historique des paiements
    </span>
  </a>
</li>




    <li *ngIf="user && isLoggedIn && (!sidebarCollapsed || isMobile)">
  <a [routerLink]="['/profile']" class="flex items-center space-x-2 px-4 py-3 border-t border-gray-200 hover:bg-gray-100 transition rounded-md">
    <div class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center text-lg font-bold uppercase">
      {{ user?.name?.charAt(0) }}

    </div>
    <div *ngIf="!sidebarCollapsed || isMobile" class="flex-1 min-w-0">
      <p class="text-sm font-medium text-gray-900 truncate">{{ user?.name }}</p>
      <p class="text-sm text-gray-500 truncate">{{ user?.email }}</p>
      <p class="text-sm text-gray-500 truncate">{{ user?.role }}</p>
    </div>
  </a>
</li>




     <li *ngIf="isLoggedIn">
  <a
    (click)="onLogout()"
    class="flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-100 hover:text-red-800 rounded-md cursor-pointer transition"
    title="Déconnexion"
  >
    <i class="fas fa-sign-out-alt w-5"></i>
    <span *ngIf="!sidebarCollapsed || isMobile" class="select-none font-medium">Déconnexion</span>
  </a>
</li>

    </ul>

  </nav>

  <!-- Overlay for mobile when sidebar is open -->
  <div class="overlay" *ngIf="sidebarMobileOpen && isMobile" (click)="closeSidebarMobile()"></div>

  <!-- Main Content -->
  <main class="main-content" [class.sidebar-collapsed]="sidebarCollapsed && !isMobile">
    <router-outlet></router-outlet>
    <app-alert></app-alert>
  </main>

</div>
